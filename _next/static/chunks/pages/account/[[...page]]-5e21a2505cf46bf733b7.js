_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"5v9/":function(e,t,c){"use strict";var r=c("nKUr"),n=c("rePB"),s=c("q1tI"),a=c("LtDH"),i=c("rVDa"),o=c("Dd6D"),l=c("o7zH"),d=c("eJCX"),u=c("R1LX"),j=c("Tkjx"),O=c("oOpj"),b=c.n(O);function f(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function h(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?f(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var p=function(e){var t=e.isOpen,c=e.onClose,n=e.onSubmit,O=e.orderId,f=e.currencySymbol,p=e.collectionStats,m=e.token,v=e.t,x=Object(s.useState)(0),y=x[0],k=x[1],A=Object(s.useState)(!1),E=A[0],D=A[1],g=Object(s.useState)(!1),T=g[0],C=g[1];return Object(s.useEffect)((function(){O&&t&&a.a.orders.get(O).then((function(e){var t=e.data.makerAssetAmount;k(t/Math.pow(10,18))}))}),[O]),Object(r.jsxs)(i.a,{isOpen:t,className:b.a.itemCheckout,onClose:function(){return c()},children:[Object(r.jsx)(i.a.Header,{onClose:function(){return c()},children:Object(r.jsx)("div",{children:v("checkout.acceptOffer.title")})}),Object(r.jsxs)(i.a.Body,{className:b.a.itemCheckoutBody,children:[Object(r.jsxs)("div",{className:b.a.itemCheckoutSummary,children:[Object(r.jsx)("div",{className:b.a.itemCheckoutSummaryDescription,children:v("checkout.acceptOffer.description")}),Object(r.jsx)("div",{className:b.a.itemCheckoutSummaryRow,children:Object(r.jsx)(d.c,h({},m))}),Object(r.jsxs)("div",{className:b.a.itemCheckoutSummaryRow,children:[Object(r.jsx)("div",{className:b.a.itemCheckoutSummaryRowTitle,children:v("checkout.acceptOffer.final")}),Object(r.jsxs)("div",{className:b.a.itemCheckoutSummaryRowPrice,children:[y," ","".concat(f)]})]})]}),m.price&&y<.9*m.price&&Object(r.jsxs)("div",{className:b.a.itemCheckoutPriceWarning,children:[Object(r.jsx)(j.L,{})," ",v("checkout.acceptOffer.priceWarning")]}),m.last_sell&&y<.9*m.last_sell&&Object(r.jsxs)("div",{className:b.a.itemCheckoutPriceWarning,children:[Object(r.jsx)(j.L,{})," ",v("checkout.acceptOffer.lastSoldWarning")]}),p&&p.lowestPrice&&y<p.lowestPrice&&Object(r.jsxs)("div",{className:b.a.itemCheckoutPriceWarning,children:[Object(r.jsx)(j.L,{})," ",v("checkout.acceptOffer.floorWarning")]}),Object(r.jsxs)("div",{className:b.a.itemMobileBottomBoxContainer,children:[Object(r.jsx)("div",{className:b.a.itemCheckoutTerms,children:Object(r.jsxs)(u.a,{checked:E,onChange:function(e){return D(e.target.checked)},error:T&&!E,children:[v("checkout.terms")," ",Object(r.jsx)(o.c,{className:b.a.itemCheckoutTermsLink,onClick:function(){return Object(l.a)("/terms.html")},children:v("checkout.terms_link")})]})}),Object(r.jsx)(o.a,{className:b.a.itemCheckoutBtn,onClick:function(){if(!E)return C(!0),!1;n(),c()},children:v("checkout.acceptOffer.submit")})]})]})]})};p.defaultProps={collectionStats:null},t.a=p},BsWD:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c("a3WO");function n(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Object(r.a)(e,t):void 0}}},EtIO:function(e,t){t.orderStatuses={ADDED:"ADDED",FILLED:"FILLED",CANCELLED:"CANCELLED",EXPIRED:"EXPIRED",INVALID:"INVALID"},t.orderTypes={SELL:"SELL",TRADE:"TRADE",OFFER:"OFFER"},t.activityTypes={LISTED:"LISTED",LIST_CANCELLED:"LIST_CANCELLED",BOUGHT:"BOUGHT",SOLD:"SOLD",TRADE_OFFERED:"TRADE_OFFERED",TRADE_CANCELLED:"TRADE_CANCELLED",TRADED:"TRADED",OFFER:"OFFER",OFFER_CANCELLED:"OFFER_CANCELLED"},t.tokenOrderTypes={LISTING:"LISTING",OFFER:"OFFER",REJECT_OFFER:"REJECT_OFFER",HISTORY:"HISTORY",TRADE:"TRADE",REJECT_TRADE:"REJECT_TRADE"}},ODXe:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c("BsWD");function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var c=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var r,n,s=[],a=!0,i=!1;try{for(c=c.call(e);!(a=(r=c.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(o){i=!0,n=o}finally{try{a||null==c.return||c.return()}finally{if(i)throw n}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},a3WO:function(e,t,c){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,r=new Array(t);c<t;c++)r[c]=e[c];return r}c.d(t,"a",(function(){return r}))},bwo8:function(e,t,c){"use strict";var r=c("nKUr"),n=c("rVDa"),s=c("Dd6D"),a=c("Tkjx"),i=c("oOpj"),o=c.n(i);t.a=function(e){var t=e.type,c=e.isOpen,i=e.onClose,l=e.onSubmit,d=e.t;return Object(r.jsxs)(n.a,{isOpen:c,className:o.a.itemCancel,onClose:function(){return i()},children:[Object(r.jsx)(n.a.Header,{onClose:function(){return i()},children:Object(r.jsx)("div",{children:d("cancel.".concat(t,".title"))})}),Object(r.jsxs)(n.a.Body,{className:o.a.itemCancelBody,children:[Object(r.jsxs)("div",{className:o.a.itemCancelBodyMsg,children:[Object(r.jsx)(a.ab,{}),d("cancel.".concat(t,".body"))]}),Object(r.jsx)(s.a,{className:o.a.itemCancelBtn,onClick:function(){l(),i()},children:d("cancel.".concat(t,".submit"))})]})]})}},fqpC:function(e,t,c){"use strict";c.r(t);var r=c("rePB"),n=c("nKUr"),s=c("q1tI"),a=c.n(s),i=c("/MKj"),o=c("CBTV"),l=c("ODXe"),d=c("o0o1"),u=c.n(d),j=c("HaE+"),O=c("1OyB"),b=c("vuIU"),f=c("Ji7U"),h=c("md7G"),p=c("foSv"),m=c("20a2"),v=c("g4pe"),x=c.n(v),y=c("LtDH"),k=c("AMxz"),A=c("TSYQ"),E=c.n(A),D=c("Dd6D"),g=c("Lela"),T=c("lWlA"),C=c("eJCX"),N=c("G8xZ"),S=c.n(N),w=c("xCAs"),R=c("EtIO");function P(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function I(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?P(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):P(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var F=function(e){var t=e.user,c=e.onApprove,r=e.onCancel,s=e.onReject,a=e.page,i=e.t;return t.orders.filter((function(e){var c=e.makerAddress,r=e.recipientAddress;return t.data.address===(a.includes("received")?r:c)})).filter((function(e){return"OFFER"===e.type})).length?Object(n.jsxs)("table",{className:S.a.offersTable,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:i("account.tableTitles.items")}),Object(n.jsx)("th",{children:a.includes("received")?i("account.tableTitles.from"):i("account.tableTitles.to")}),Object(n.jsx)("th",{children:i("account.tableTitles.price")}),Object(n.jsx)("th",{children:i("account.tableTitles.date")}),Object(n.jsx)("th",{children:i("account.tableTitles.status")}),Object(n.jsx)("th",{children:i("account.tableTitles.action")})]})}),Object(n.jsx)("tbody",{children:t.orders.filter((function(e){var c=e.makerAddress,r=e.recipientAddress;return t.data.address===(a.includes("received")?r:c)})).filter((function(e){return"OFFER"===e.type})).map((function(e){return Object(n.jsx)(_,{offer:e,page:a,onApprove:c,onCancel:r,onReject:s},e.id)}))})]}):Object(n.jsx)("div",{children:i("account.empty_offers")})};F.defaultProps={user:null,page:"",t:function(){}};var _=function(e){var t=e.offer,c=e.onApprove,r=e.onCancel,s=e.onReject,a=e.page;return t?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:t.tokens.map((function(e){return Object(n.jsxs)(D.c,{route:"/assets/".concat(Object(w.b)(e.chainId),"/").concat(e.contractAddress,"/").concat(e.tokenID),className:S.a.token,children:[Object(n.jsx)(C.b,I({className:S.a.tokenImage},e)),Object(n.jsx)("div",{className:S.a.tokenName,children:e.name})]},e.id)}))})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:S.a.ownerAddress,children:[Object(n.jsx)("img",{src:Object(T.a)(a.includes("received")?t.makerAddress:t.recipientAddress),alt:Object(T.b)(a.includes("received")?t.makerAddress:t.recipientAddress)}),Object(T.b)(a.includes("received")?t.makerAddress:t.recipientAddress)]})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.offerDate,children:t.makerAssetAmount/Math.pow(10,18)})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.offerDate,children:new Date(t.createdAt).toDateString()})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:E()(S.a.offerState,S.a["offerState_".concat(t.state)]),children:t.state})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:S.a.buttons,children:["ADDED"===t.state&&a.includes("received")&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{onClick:function(){return c(t)},children:"Approve"}),Object(n.jsx)(D.a,{onClick:function(){return s(t,R.tokenOrderTypes.REJECT_OFFER)},children:"Reject"})]}),"ADDED"===t.state&&a.includes("made")&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{onClick:function(){return r(t,R.tokenOrderTypes.OFFER)},children:"Cancel"})})]})})]}):Object(n.jsx)(g.a,{})};_.defaultProps={offer:null,page:""};var L=F;function M(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function B(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?M(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):M(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var H=function(e){var t=e.offer,c=e.onApprove,r=e.onCancel,s=e.onReject,a=e.page;return t?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:t.tokens.filter((function(e){return"sell"===e.OrderToken.type})).map((function(e){return Object(n.jsxs)(D.c,{route:"/assets/".concat(Object(w.b)(e.chainId),"/").concat(e.contractAddress,"/").concat(e.tokenID),className:S.a.token,children:[Object(n.jsx)(C.b,B({className:S.a.tokenImage},e)),Object(n.jsx)("div",{className:S.a.tokenName,children:e.name})]},e.id)}))})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:t.tokens.filter((function(e){return"buy"===e.OrderToken.type})).map((function(e){return Object(n.jsxs)(D.c,{route:"/assets/".concat(Object(w.b)(e.chainId),"/").concat(e.contractAddress,"/").concat(e.tokenID),className:S.a.token,children:[Object(n.jsx)(C.b,B({className:S.a.tokenImage},e)),Object(n.jsx)("div",{className:S.a.tokenName,children:e.name})]},e.id)}))})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:S.a.ownerAddress,children:[Object(n.jsx)("img",{src:Object(T.a)(a.includes("received")?t.makerAddress:t.recipientAddress),alt:Object(T.b)(a.includes("received")?t.makerAddress:t.recipientAddress)}),Object(T.b)(a.includes("received")?t.makerAddress:t.recipientAddress)]})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.offerDate,children:new Date(t.createdAt).toDateString()})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:E()(S.a.offerState,S.a["offerState_".concat(t.state)]),children:t.state})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:S.a.buttons,children:["ADDED"===t.state&&a.includes("received")&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{onClick:function(){return c(t)},children:"Approve"}),Object(n.jsx)(D.a,{onClick:function(){return s(t,R.tokenOrderTypes.REJECT_TRADE)},children:"Reject"})]}),"ADDED"===t.state&&a.includes("made")&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{onClick:function(){return r(t,R.tokenOrderTypes.TRADE)},children:"Cancel"})})]})})]}):Object(n.jsx)(g.a,{})},U=function(e){var t=e.user,c=e.onApprove,r=e.onCancel,s=e.onReject,a=e.page,i=e.t;return t.orders.filter((function(e){var c=e.makerAddress,r=e.recipientAddress;return t.data.address===(a.includes("received")?r:c)})).filter((function(e){return"TRADE"===e.type})).length?Object(n.jsxs)("table",{className:S.a.offersTable,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsxs)("th",{children:[i("account.tableTitles.you")," ",a.includes("received")?i("account.tableTitles.receive"):i("account.tableTitles.offer")]}),Object(n.jsxs)("th",{children:[i("account.tableTitles.you")," ",a.includes("received")?i("account.tableTitles.offer"):i("account.tableTitles.receive")]}),Object(n.jsx)("th",{children:a.includes("received")?i("account.tableTitles.from"):i("account.tableTitles.to")}),Object(n.jsx)("th",{children:i("account.tableTitles.date")}),Object(n.jsx)("th",{children:i("account.tableTitles.status")}),Object(n.jsx)("th",{children:i("account.tableTitles.action")})]})}),Object(n.jsx)("tbody",{children:t.orders.filter((function(e){var c=e.makerAddress,r=e.recipientAddress;return t.data.address===(a.includes("received")?r:c)})).filter((function(e){return"TRADE"===e.type})).map((function(e){return Object(n.jsx)(H,{offer:e,page:a,onApprove:c,onCancel:r,onReject:s},e.id)}))})]}):Object(n.jsx)("div",{children:i("account.empty_offers")})};function W(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function J(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?W(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):W(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var X=function(e){var t=e.listing,c=e.onCancel;return t?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:t.tokens.map((function(e){return Object(n.jsxs)(D.c,{route:"/assets/".concat(Object(w.b)(e.chainId),"/").concat(e.contractAddress,"/").concat(e.tokenID),className:S.a.token,children:[Object(n.jsx)(C.b,J({className:S.a.tokenImage},e)),Object(n.jsx)("div",{className:S.a.tokenName,children:e.name})]},e.id)}))})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.offerDate,children:new Date(t.createdAt).toDateString()})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.offerPrice,children:t.takerAssetAmount/Math.pow(10,18)})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:E()(S.a.offerState,S.a["offerState_".concat(t.state)]),children:t.state})}),Object(n.jsx)("td",{children:t.state===R.orderStatuses.ADDED&&Object(n.jsx)("div",{className:S.a.buttons,children:Object(n.jsx)(D.a,{onClick:function(){return c(t,R.tokenOrderTypes.LISTING)},children:"Cancel"})})})]}):Object(n.jsx)(g.a,{})},G=function(e){var t=e.user,c=e.onCancel,r=e.t;return t.orders.length&&t.orders.filter((function(e){e.state;var c=e.makerAddress;return t.data.address===c})).filter((function(e){return e.type===R.orderTypes.SELL})).length?Object(n.jsxs)("table",{className:S.a.offersTable,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:r("account.tableTitles.items")}),Object(n.jsx)("th",{children:r("account.tableTitles.date")}),Object(n.jsx)("th",{children:r("account.tableTitles.price")}),Object(n.jsx)("th",{children:r("account.tableTitles.status")}),Object(n.jsx)("th",{children:r("account.tableTitles.action")})]})}),Object(n.jsx)("tbody",{children:t.orders.filter((function(e){e.state;var c=e.makerAddress;return t.data.address===c})).filter((function(e){return e.type===R.orderTypes.SELL})).map((function(e){return Object(n.jsx)(X,{listing:e,onCancel:c},e.id)}))})]}):Object(n.jsx)("div",{children:r("account.empty_listings")})},q=c("1ES8");function K(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function V(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?K(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):K(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var z=function(e){var t=e.user,c=e.t;return t.activities.length?Object(n.jsxs)("table",{className:S.a.offersTable,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:c("account.tableTitles.event")}),Object(n.jsx)("th",{children:c("account.tableTitles.items")}),Object(n.jsx)("th",{children:c("account.tableTitles.from")}),Object(n.jsx)("th",{children:c("account.tableTitles.to")}),Object(n.jsx)("th",{children:c("account.tableTitles.date")})]})}),Object(n.jsx)("tbody",{children:t.activities.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})).map((function(e){return Object(n.jsx)(Y,{activity:e},e.id)}))})]}):Object(n.jsx)("div",{children:c("account.empty_activities")})};z.defaultProps={user:null,t:function(){}};var Y=function(e){var t=e.activity;return null!==t&&void 0!==t&&t.order?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.activityEvent,children:R.activityTypes[t.type]})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:t.order.tokens.map((function(e){return Object(n.jsxs)(D.c,{route:"/assets/".concat(Object(w.b)(e.chainId),"/").concat(e.contractAddress,"/").concat(e.tokenID),className:S.a.token,children:[Object(n.jsx)(C.b,V({className:S.a.tokenImage},e)),Object(n.jsx)("div",{className:S.a.tokenName,children:e.name})]},e.id)}))})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:S.a.ownerAddress,children:[Object(n.jsx)("img",{src:Object(T.a)(t.order.makerAddress),alt:"".concat(Object(T.b)(t.order.makerAddress)," profile")}),Object(T.b)(t.order.makerAddress)]})}),Object(n.jsx)("td",{children:t.order.recipientAddress&&Object(n.jsxs)("div",{className:S.a.ownerAddress,children:[Object(n.jsx)("img",{src:Object(T.a)(t.order.recipientAddress),alt:"".concat(Object(T.b)(t.order.recipientAddress)," profile")}),Object(T.b)(t.order.recipientAddress)]})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:S.a.offerDate,children:new Date(t.createdAt).toDateString()})})]}):Object(n.jsx)(g.a,{})};Y.defaultProps={activity:null};var Q=z,Z=c("9Koi"),$=c("Cz6E"),ee=["activity","trades_received","trades_made","offers_received","offers_made","listings_made"],te=function(e){var t=e.children,c=e.page,s=Object(Z.a)().t;return Object(n.jsx)($.b,{className:S.a.accountContainer,children:Object(n.jsx)($.a,{flex:!0,direction:"column",children:Object(n.jsxs)(D.b,{className:S.a.card,children:[Object(n.jsx)(D.b.Header,{children:ee.map((function(e){return Object(n.jsx)(D.c,{route:"/account/".concat(e),className:E()(S.a.headerLink,Object(r.a)({},S.a.headerLinkActive,c===e)),children:s("account.".concat(e))},e)}))}),Object(n.jsx)(D.b.Content,{style:{minHeight:"calc(100vh - 265px)"},children:t})]})})})};te.defaultProps={children:void 0,page:""};var ce=te,re=c("va0g"),ne=c("rnIF"),se=c("5v9/"),ae=c("bwo8"),ie=(c("mx2w"),c("jnaN"));function oe(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function le(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):oe(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,r=Object(p.a)(e);if(t){var n=Object(p.a)(this).constructor;c=Reflect.construct(r,arguments,n)}else c=r.apply(this,arguments);return Object(h.a)(this,c)}}var ue=function(e){Object(f.a)(c,e);var t=de(c);function c(e){var r;return Object(O.a)(this,c),(r=t.call(this,e)).state={flow:"",status:"",isAcceptOfferModalOpen:!1,isAcceptTradeOfferModalOpen:!1,cancelType:"",rejectType:"",isCancelModalOpen:!1,isRejectModalOpen:!1,isNotEnoughBalanceModalOpen:!1,offer:{}},r}return Object(b.a)(c,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,c=e.userFetchOrders,r=e.userFetchActivities;t.data.id&&(c(t.data.id),r(t.data.id))}},{key:"componentDidUpdate",value:function(e){var t=this.props,c=t.user,r=t.userFetchOrders,n=t.userFetchActivities;c.data.id&&c.data.id!==e.user.data.id&&(r(c.data.id),n(c.data.id))}},{key:"onApprove",value:function(e){var t={offer:e};"TRADE"===e.type?t.isAcceptTradeOfferModalOpen=!0:t.isAcceptOfferModalOpen=!0,this.setState(t)}},{key:"onApproveOfferSubmit",value:function(){var e=this,t=this.state.offer;this.startTransaction("accept_offer",Object(j.a)(u.a.mark((function c(){var r,n,s,a,i,o,l;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r=e.props,n=r.wallet,s=r.user,a=r.userFetchOrders,i=r.userFetchActivities,o=n.data,(l=new q.a(o)).setStatusListener((function(t){return e.setStatus(t)})),c.prev=4,"TRADE"!==t.type){c.next=11;break}return c.next=8,l.approveTrade(t);case 8:c.sent,c.next=18;break;case 11:if("OFFER"!==t.type){c.next=18;break}return c.next=14,l.approveOffer(t);case 14:if(!c.sent.error){c.next=18;break}return e.setState({isNotEnoughBalanceModalOpen:!0,status:"",flow:"",offer:t}),c.abrupt("return");case 18:setTimeout((function(){a(s.data.id),i(s.data.id),e.closeModalsAndResetOffer(),e.setState({status:"",flow:""})}),2e3),c.next=26;break;case 21:c.prev=21,c.t0=c.catch(4),console.error(c.t0),e.setState({status:"",flow:""}),e.closeModalsAndResetOffer();case 26:case"end":return c.stop()}}),c,null,[[4,21]])}))))}},{key:"onCancel",value:function(e){var t=this,c=this.props,r=c.wallet,n=c.user,s=c.userFetchOrders,a=c.userFetchActivities,i=r.data;this.startTransaction("cancel",Object(j.a)(u.a.mark((function c(){var r,o;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return(r=new q.a(i)).setStatusListener((function(e){return t.setStatus(e)})),c.prev=2,c.next=5,y.a.orders.get(e.id);case 5:return o=c.sent,c.next=8,r.cancel(o.data);case 8:y.a.orders.cancel(o.data.id).then((function(e){setTimeout((function(){s(n.data.id),a(n.data.id),t.closeModalsAndResetOffer(),t.setState({status:"",flow:""})}),2e3)})),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(2),console.error(c.t0),t.setState({status:"",flow:""}),t.closeModalsAndResetOffer();case 16:case"end":return c.stop()}}),c,null,[[2,11]])}))))}},{key:"onReject",value:function(e){var t=this;this.startTransaction("cancel",Object(j.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y.a.orders.cancel(e.id);case 2:c.sent,setTimeout((function(){t.setState({status:"",flow:""});var e=t.props,c=e.user,r=e.userFetchOrders,n=e.userFetchActivities;r(c.data.id),n(c.data.id),t.closeModalsAndResetOffer()}),2e3);case 4:case"end":return c.stop()}}),c)}))))}},{key:"setStatus",value:function(e){this.setState({status:e})}},{key:"closeModalsAndResetOffer",value:function(){this.setState({isAcceptOfferModalOpen:!1,isAcceptTradeOfferModalOpen:!1,isCancelModalOpen:!1,isRejectModalOpen:!1,isNotEnoughBalanceModalOpen:!1,offer:{}})}},{key:"startTransaction",value:function(e,t){this.setState({flow:e,status:k.h},(function(){setTimeout((function(){return t()}),0)}))}},{key:"callbacks",value:function(){var e=this;return{onApprove:function(t){e.setState({offer:t}),e.onApprove(t)},onCancel:function(t,c){e.setState({cancelType:c,isCancelModalOpen:!0,offer:t})},onReject:function(t,c){e.setState({rejectType:c,isRejectModalOpen:!0,offer:t})}}}},{key:"render",value:function(){var e=this,t=this.props,c=(t.user,t.router),r=t.t,s=this.state,a=s.status,i=s.flow,o=s.isAcceptOfferModalOpen,l=s.isAcceptTradeOfferModalOpen,d=s.offer,u=s.cancelType,j=s.isCancelModalOpen,O=s.rejectType,b=s.isRejectModalOpen,f=s.isNotEnoughBalanceModalOpen,h=c.query.page;h||(h=["activity"]);var p=function(e){switch(h[0]){case"trades_received":case"trades_made":return Object(n.jsx)(U,le({},e));case"offers_received":case"offers_made":return Object(n.jsx)(L,le({},e));case"listings_made":return Object(n.jsx)(G,le({},e));default:return Object(n.jsx)(Q,le({},e))}};return Object(n.jsxs)(ce,{page:h[0],children:[Object(n.jsx)(x.a,{children:Object(n.jsx)("title",{children:"NFTrade | My Account"})}),Object(n.jsx)($.b,{children:Object(n.jsx)($.a,{flex:!0,direction:"column",children:Object(n.jsx)(p,le(le(le({page:h[0]},this.props),this.state),this.callbacks()))})}),Object(n.jsx)(Oe,{isOpen:o,offer:d,onClose:function(){return e.closeModalsAndResetOffer()},onSubmit:function(){return e.onApproveOfferSubmit()},t:r}),d.id&&"TRADE"===d.type&&Object(n.jsx)(ne.a,{isOpen:l,onClose:function(){return e.closeModalsAndResetOffer()},offeredItems:d.tokens?d.tokens.filter((function(e){return"buy"===e.OrderToken.type})):[],receivedItems:d.tokens?d.tokens.filter((function(e){return"sell"===e.OrderToken.type})):[],onSubmit:function(){return e.onApproveOfferSubmit()},t:r}),Object(n.jsx)(ae.a,{type:u,isOpen:j,onClose:function(){return e.closeModalsAndResetOffer()},onSubmit:function(){return e.onCancel(d)},t:r}),Object(n.jsx)(ae.a,{type:O,isOpen:b,onClose:function(){return e.closeModalsAndResetOffer()},onSubmit:function(){return e.onReject(d)},t:r}),Object(n.jsx)(ie.a,{isOpen:f,onClose:function(){return e.closeModalsAndResetOffer()},onSubmit:function(){return e.onReject(d)},t:r}),Object(n.jsx)(re.a,{type:i,status:a,isOpen:!!a,t:r})]})}}]),c}(a.a.Component),je=Object(m.withRouter)(ue),Oe=function(e){var t=e.offer,c=e.isOpen,r=e.onClose,a=e.onSubmit,i=e.t,o=Object(s.useState)([]),d=o[0],u=o[1],j=Object(s.useState)([]),O=j[0],b=j[1],f=Object(s.useState)(""),h=f[0],p=f[1];return Object(s.useEffect)((function(){if(t.id){var e=t.tokens,c=Object(l.a)(e,1)[0];b(c);var r=Object(w.a)(c.chainId).nativeCurrency;r&&r.symbol&&p(r.symbol),y.a.trades.getStats({contractId:c.contract.id}).then((function(e){u(e.data)}))}}),[t.id]),Object(n.jsx)(se.a,{isOpen:c,orderId:t.id,token:O,currencySymbol:h,collectionStats:d,onClose:function(){return r()},onSubmit:function(){return a()},t:i})},be=c("hxk+");function fe(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function he(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):fe(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var pe=function(e){var t=Object(i.c)(),c={user:Object(i.d)((function(e){return e.user})),orders:Object(i.d)((function(e){return e.orders})),wallet:Object(i.d)((function(e){return e.wallet}))},r={userFetchOrders:function(e){return t(Object(be.c)(e))},userFetchActivities:function(e){return t(Object(be.a)(e))}};return Object(n.jsx)(je,he(he(he({},e),c),r))};pe.page="activity";t.default=Object(o.b)(pe)},jnaN:function(e,t,c){"use strict";var r=c("nKUr"),n=c("rVDa"),s=c("Dd6D"),a=c("oOpj"),i=c.n(a);t.a=function(e){var t=e.isOpen,c=e.onClose,a=e.onSubmit,o=e.t;return Object(r.jsxs)(n.a,{isOpen:t,className:i.a.itemNotSameOwner,onClose:function(){return c()},children:[Object(r.jsx)(n.a.Header,{onClose:function(){return c()},children:o("notEnoughBalanceModal.header")}),Object(r.jsxs)(n.a.Body,{className:i.a.itemNotSameOwnerBody,children:[Object(r.jsx)("div",{className:i.a.itemNotSameOwnerTitle,children:o("notEnoughBalanceModal.title")}),Object(r.jsx)("div",{className:i.a.itemNotSameOwnerDescription,children:o("notEnoughBalanceModal.description")}),Object(r.jsxs)("div",{className:i.a.itemNotSameOwnerBtnContainer,children:[Object(r.jsx)(s.a,{onClick:function(){c()},children:o("notEnoughBalanceModal.accept")}),Object(r.jsx)(s.a,{secondary:!0,onClick:function(){a()},children:o("notEnoughBalanceModal.cancel")})]})]})]})}},mx2w:function(e,t){t.modalTypes={BUY:"BUY",SELL:"SELL",OFFER:"OFFER",CANCEL:"CANCEL",ACCEPT_OFFER:"ACCEPT_OFFER",CROSS_CHAIN:"CROSS_CHAIN",NOT_SAME_OWNER:"NOT_SAME_OWNER",TRANSFER:"TRANSFER",NOT_ENOUGH_BALANCE:"NOT_ENOUGH_BALANCE"}},rnIF:function(e,t,c){"use strict";var r=c("nKUr"),n=c("rePB"),s=c("q1tI"),a=c("rVDa"),i=c("Dd6D"),o=c("Tkjx"),l=c("o7zH"),d=c("eJCX"),u=c("R1LX"),j=c("oOpj"),O=c.n(j);function b(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function f(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?b(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):b(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var h=function(e){var t=e.isOpen,c=e.onClose,n=e.onSubmit,j=e.offeredItems,b=e.receivedItems,h=e.removeOfferedItem,p=e.removeReceivedItem,m=e.t,v=Object(s.useState)(!1),x=v[0],y=v[1],k=Object(s.useState)(!1),A=k[0],E=k[1];return Object(s.useEffect)((function(){b.length&&j.length||c()}),[b.length,j.length]),Object(r.jsxs)(a.a,{isOpen:t,className:O.a.itemCheckoutTrade,onClose:function(){return c()},children:[Object(r.jsx)(a.a.Header,{onClose:function(){return c()},children:Object(r.jsx)("div",{children:m("checkout.trade.title")})}),Object(r.jsxs)(a.a.Body,{className:O.a.itemCheckoutTradeBody,children:[Object(r.jsxs)("div",{className:O.a.itemCheckoutTradeItems,children:[Object(r.jsxs)("div",{className:O.a.itemCheckoutTradeItemsPanel,children:[Object(r.jsx)("div",{className:O.a.itemCheckoutTradeItemsTitle,children:m("checkout.trade.offer")}),j.map((function(e){return Object(r.jsx)(d.c,f({removeItem:function(e){return h(e)}},e),"offeredItems_trade_".concat(e.id))}))]}),Object(r.jsx)("div",{className:O.a.itemCheckoutTradeItemsExchange,children:Object(r.jsx)(o.q,{})}),Object(r.jsxs)("div",{className:O.a.itemCheckoutTradeItemsPanel,children:[Object(r.jsx)("div",{className:O.a.itemCheckoutTradeItemsTitle,children:m("checkout.trade.get")}),b.map((function(e){return Object(r.jsx)(d.c,f({removeItem:function(e){return p(e)}},e),"receivedItems_trade__".concat(e.id))}))]})]}),Object(r.jsxs)("div",{className:O.a.itemMobileBottomBoxContainer,children:[Object(r.jsx)("div",{className:O.a.itemCheckoutTerms,children:Object(r.jsxs)(u.a,{checked:x,onChange:function(e){return y(e.target.checked)},error:A&&!x,children:[m("checkout.terms")," ",Object(r.jsx)(i.c,{className:O.a.itemCheckoutTermsLink,onClick:function(){return Object(l.a)("/terms.html")},children:m("checkout.terms_link")})]})}),Object(r.jsx)(i.a,{className:O.a.itemCheckoutBtn,onClick:function(){if(!x)return E(!0),!1;n(),c()},children:m("checkout.trade.submit")})]})]})]})};h.defaultProps={},t.a=h},z50S:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/[[...page]]",function(){return c("fqpC")}])}},[["z50S",0,2,4,12,13,1,3,5,6,8,7,9,15]]]);