_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"+7g4":function(e,t,a){e.exports={transactionModalBody:"transactionModal_transactionModalBody__3-E2t",transactionModalBodyContent:"transactionModal_transactionModalBodyContent__17muG",transactionModalBodyContentTitle:"transactionModal_transactionModalBodyContentTitle__13iR4",transactionModalBodyContentBody:"transactionModal_transactionModalBodyContentBody__bEjzk",transactionModalBodyContentFooter:"transactionModal_transactionModalBodyContentFooter__2Qx6k",transactionModal:"transactionModal_transactionModal__VZJmh"}},"/0+H":function(e,t,a){"use strict";t.__esModule=!0,t.isInAmpMode=c,t.useAmp=function(){return c(n.default.useContext(s.AmpStateContext))};var r,n=(r=a("q1tI"))&&r.__esModule?r:{default:r},s=a("lwAK");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,a=void 0!==t&&t,r=e.hybrid,n=void 0!==r&&r,s=e.hasQuery,c=void 0!==s&&s;return a||n&&c}},"48fX":function(e,t,a){var r=a("qhzo");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"5fIB":function(e,t,a){var r=a("7eYB");e.exports=function(e){if(Array.isArray(e))return r(e)}},"8Kt/":function(e,t,a){"use strict";a("oI91");t.__esModule=!0,t.defaultHead=d,t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=r?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(a,n,s):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(a("q1tI")),s=(r=a("Xuae"))&&r.__esModule?r:{default:r},c=a("lwAK"),o=a("FYa8"),i=a("/0+H");function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[n.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(n.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function u(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===n.default.Fragment?e.concat(n.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var m=["name","httpEquiv","charSet","itemProp"];function f(e,t){return e.reduce((function(e,t){var a=n.default.Children.toArray(t.props.children);return e.concat(a)}),[]).reduce(u,[]).reverse().concat(d(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,a=new Set,r={};return function(n){var s=!0,c=!1;if(n.key&&"number"!==typeof n.key&&n.key.indexOf("$")>0){c=!0;var o=n.key.slice(n.key.indexOf("$")+1);e.has(o)?s=!1:e.add(o)}switch(n.type){case"title":case"base":t.has(n.type)?s=!1:t.add(n.type);break;case"meta":for(var i=0,l=m.length;i<l;i++){var d=m[i];if(n.props.hasOwnProperty(d))if("charSet"===d)a.has(d)?s=!1:a.add(d);else{var u=n.props[d],f=r[d]||new Set;"name"===d&&c||!f.has(u)?(f.add(u),r[d]=f):s=!1}}}return s}}()).reverse().map((function(e,t){var a=e.key||t;return n.default.cloneElement(e,{key:a})}))}function j(e){var t=e.children,a=(0,n.useContext)(c.AmpStateContext),r=(0,n.useContext)(o.HeadManagerContext);return n.default.createElement(s.default,{reduceComponentsToState:f,headManager:r,inAmpMode:(0,i.isInAmpMode)(a)},t)}j.rewind=function(){};var b=j;t.default=b},BsWD:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("a3WO");function n(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r.a)(e,t):void 0}}},CzHd:function(e,t,a){e.exports={farmsTitle:"farms_farmsTitle__2hOTY",farmsCards:"farms_farmsCards__1A3_V",farmsCardsCard:"farms_farmsCardsCard__197os",farmsCardsCardInactive:"farms_farmsCardsCardInactive__3Qv1P",farmsCardsCardHeader:"farms_farmsCardsCardHeader__OoCRm",farmsCardsCardImage:"farms_farmsCardsCardImage__1XE0d",farmsCardsCardName:"farms_farmsCardsCardName__15YcL",farmsCardsCardBody:"farms_farmsCardsCardBody__3v-v3",farmsCardsCardNumberTitle:"farms_farmsCardsCardNumberTitle__1jnBC",farmsCardsCardNumberText:"farms_farmsCardsCardNumberText__4R6de",farmContainer:"farms_farmContainer__3Xsbf",farm:"farms_farm__Kw4Cy",farmHeader:"farms_farmHeader__2wfLd",farmHeaderTitle:"farms_farmHeaderTitle__3gB_h",farmHeaderBalance:"farms_farmHeaderBalance__1J3QK",farmHeaderBtn:"farms_farmHeaderBtn__1AKEA",farmDesc:"farms_farmDesc__1G4CZ",farmDescDetails:"farms_farmDescDetails__2ffEE",farmDescImage:"farms_farmDescImage__2RPJi",farmDescBody:"farms_farmDescBody__2PYp1",farmDescBodyName:"farms_farmDescBodyName__2QzOg",farmDescBodyText:"farms_farmDescBodyText__3xhki",farmDescNumbers:"farms_farmDescNumbers__3Frll",farmDescGuide:"farms_farmDescGuide__9aiFh",farmDescNumberTitle:"farms_farmDescNumberTitle__230YK",farmDescNumberText:"farms_farmDescNumberText__1-U_9",farmStakeCard:"farms_farmStakeCard__3I6f2",farmStakeCardBalance:"farms_farmStakeCardBalance__3BkyT",farmStakeCardDesc:"farms_farmStakeCardDesc__HvyCr",farmStakeCardLink:"farms_farmStakeCardLink__1_VxP",farmStakeList:"farms_farmStakeList__1Jg-2",farmStakeListStake:"farms_farmStakeListStake__aJyGg",farmTokens:"farms_farmTokens__1hzXe",farmTokensHeader:"farms_farmTokensHeader__1mQES",farmTokensList:"farms_farmTokensList__3JnVv",farmTokensToken:"farms_farmTokensToken__2d1sD",farmTokensTokenImage:"farms_farmTokensTokenImage__3NMgN",farmTokensTokenBody:"farms_farmTokensTokenBody__1qGSB",farmTokensTokenContract:"farms_farmTokensTokenContract__2EL5q",farmTokensTokenName:"farms_farmTokensTokenName__QicVv",farmTokensTokenDesc:"farms_farmTokensTokenDesc__3v37h",farmTokensTokenPrice:"farms_farmTokensTokenPrice__fMbG7",farmTokensTokenPriceAvail:"farms_farmTokensTokenPriceAvail__3OQYQ",farmTokensTokenBtn:"farms_farmTokensTokenBtn__1z2rO",stakeModal:"farms_stakeModal__4_xOa",stakeModalCheckoutInputText:"farms_stakeModalCheckoutInputText___m0-K",stakeModalMobileBottomButtonsContainer:"farms_stakeModalMobileBottomButtonsContainer__3IaXF",stakeModalMobileBottomBoxContainer:"farms_stakeModalMobileBottomBoxContainer__2L3pj",stakeModalMobileBottomBoxContainerCheckoutTerms:"farms_stakeModalMobileBottomBoxContainerCheckoutTerms__3NtdC",stakeModalMobileBottomBoxContainerCheckoutTermsLink:"farms_stakeModalMobileBottomBoxContainerCheckoutTermsLink__1Mk0n",alertModal:"farms_alertModal__nvRh3",alertModalBody:"farms_alertModalBody__2VCL_",alertModalBodyMsg:"farms_alertModalBodyMsg__2NRsS",farmDescNumber:"farms_farmDescNumber__3XJEm",farmStakeCardBtn:"farms_farmStakeCardBtn__24ood"}},FYa8:function(e,t,a){"use strict";var r;t.__esModule=!0,t.HeadManagerContext=void 0;var n=((r=a("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.HeadManagerContext=n},ODXe:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("BsWD");function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s=[],c=!0,o=!1;try{for(a=a.call(e);!(c=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);c=!0);}catch(i){o=!0,n=i}finally{try{c||null==a.return||a.return()}finally{if(o)throw n}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},RBJF:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farms/[farm]",function(){return a("sefK")}])},T0f4:function(e,t){function a(t){return e.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(t)}e.exports=a},Xuae:function(e,t,a){"use strict";var r=a("mPvQ"),n=a("/GRZ"),s=a("i2R6"),c=(a("qXWd"),a("48fX")),o=a("tCBg"),i=a("T0f4");function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=i(e);if(t){var n=i(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return o(this,a)}}t.__esModule=!0,t.default=void 0;var d=a("q1tI"),u=function(e){c(a,e);var t=l(a);function a(e){var s;return n(this,a),(s=t.call(this,e))._hasHeadManager=void 0,s.emitChange=function(){s._hasHeadManager&&s.props.headManager.updateHead(s.props.reduceComponentsToState(r(s.props.headManager.mountedInstances),s.props))},s._hasHeadManager=s.props.headManager&&s.props.headManager.mountedInstances,s}return s(a,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),a}(d.Component);t.default=u},a3WO:function(e,t,a){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}a.d(t,"a",(function(){return r}))},g4pe:function(e,t,a){e.exports=a("8Kt/")},kG2m:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},lwAK:function(e,t,a){"use strict";var r;t.__esModule=!0,t.AmpStateContext=void 0;var n=((r=a("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=n},mPvQ:function(e,t,a){var r=a("5fIB"),n=a("rlHP"),s=a("KckH"),c=a("kG2m");e.exports=function(e){return r(e)||n(e)||s(e)||c()}},o7zH:function(e,t,a){"use strict";t.a=function(e){var t=.6*screen.width,a=.8*screen.height,r=screen.width/2-t/2,n=screen.height/2-a/2;return window.open(e,"popup","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(t,", height=").concat(a,", top=").concat(n,", left=").concat(r)),!1}},oI91:function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},qXWd:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},rlHP:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},sefK:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return le}));var r=a("rePB"),n=a("nKUr"),s=a("q1tI"),c=a.n(s),o=a("/MKj"),i=a("20a2"),l=a("CBTV"),d=a("ODXe"),u=a("o0o1"),m=a.n(u),f=a("HaE+"),j=a("1OyB"),b=a("vuIU"),h=a("Ji7U"),p=a("md7G"),k=a("foSv"),O=a("g4pe"),x=a.n(O),v=a("meUc"),y=a.n(v),_=a("GY4x"),w=a("1xG1"),N=a.n(w),C=a("AMxz"),T=a("0oVR"),g=a("o7zH"),S=a("Cz6E"),M=a("Dd6D"),B=a("R1LX"),D=a("rVDa"),F=a("Lela"),P=a("CzHd"),I=a.n(P),A=a("x95E"),R=function(e){var t=e.currentFarm,a=e.buyNFT,r=e.stake,s=e.claim,c=e.withdraw,o=e.userBalance,i=e.userBalanceReward,l=e.totalStaked,d=e.staked,u=e.earned,m=e.stakes,f=e.lockPeriod,j=e.availableWithdrawals,b=e.isStakeModalOpen,h=e.addRewardTokenToWallet,p=e.openStakeModal,k=e.wallet,O=e.onConnect,x=e.openAlertModal,v=e.nfts,y=e.chain,_=e.t;return t?Object(n.jsxs)(S.b,{className:I.a.farmContainer,children:[Object(n.jsxs)(S.a,{className:I.a.farm,children:[Object(n.jsxs)("div",{className:I.a.farmHeader,children:[Object(n.jsxs)("div",{className:I.a.farmHeaderTitle,children:[t.name," ",_("farm.farm")]}),Object(n.jsxs)("div",{className:I.a.farmHeaderBalance,children:[Object(n.jsx)("span",{children:"Balance:"})," ",(new Intl.NumberFormat).format(parseFloat(o).toFixed(3))," ",t.token,!t.launchpad&&Object(n.jsxs)(n.Fragment,{children:[" | ",(new Intl.NumberFormat).format(parseFloat(i).toFixed(3))," ",t.rewardToken]})]}),Object(n.jsx)("div",{className:I.a.farmHeaderBtn,children:Object(n.jsxs)(M.a,{onClick:function(){return window.open("".concat(t.buyLink))},children:[_("farm.buy")," ",t.token]})})]}),Object(n.jsxs)("div",{className:I.a.farmDesc,children:[Object(n.jsxs)("div",{className:I.a.farmDescDetails,children:[Object(n.jsx)("div",{className:I.a.farmDescImage,children:Object(n.jsx)("img",{src:t.image,alt:t.name})}),Object(n.jsxs)("div",{className:I.a.farmDescBody,children:[Object(n.jsx)("div",{className:I.a.farmDescBodyName,children:t.name}),Object(n.jsx)("div",{className:I.a.farmDescBodyText,children:t.desc})]})]}),!t.launchpad&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:I.a.farmDescGuide,children:_("farm.instructions",{token:t.token})}),Object(n.jsxs)("div",{className:I.a.farmDescNumbers,children:[Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:_("farm.total_staked")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:(new Intl.NumberFormat).format(parseFloat(l).toFixed(3))})]}),t.lockPeriod&&t.lockPeriod>0&&Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:_("farm.lockPeriod")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:_("farm.lockPeriodDays",{lockPeriod:t.lockPeriod})})]}),Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:_("farm.daily_reward")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:t.daily})]}),Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:_("farm.available_nfts")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:v.length})]})]})]})]}),!t.launchpad&&(k.data.address?k.data.chainId!==t.chainId?Object(n.jsx)(S.b,{children:Object(n.jsx)(S.a,{className:I.a.farmStakeCard,children:Object(n.jsxs)("b",{children:["Wrong chain, Please connect to"," ",y.name]})})}):Object(n.jsxs)(S.b,{children:[Object(n.jsxs)(S.a,{className:I.a.farmStakeCard,children:[Object(n.jsx)("div",{className:I.a.farmStakeCardBalance,children:(new Intl.NumberFormat).format(parseFloat(d).toFixed(3))}),Object(n.jsxs)("div",{className:I.a.farmStakeCardDesc,children:[t.token," ",_("farm.staked")]}),Object(n.jsxs)("div",{className:I.a.farmStakeCardBtn,children:[d>0&&Object(n.jsx)(M.a,{secondary:!0,onClick:function(){return c()},style:{marginRight:"8px"},children:_("farm.withdraw")}),Object(n.jsx)(M.a,{onClick:function(){return p()},children:_("farm.stake")})]})]}),Object(n.jsxs)(S.a,{className:I.a.farmStakeCard,children:[Object(n.jsx)("div",{className:I.a.farmStakeCardBalance,children:(new Intl.NumberFormat).format(parseFloat(u).toFixed(3))}),Object(n.jsxs)("div",{className:I.a.farmStakeCardDesc,children:[t.rewardToken," ",_("farm.earned")]}),Object(n.jsx)("div",{className:I.a.farmStakeCardBtn,children:Object(n.jsx)(M.a,{onClick:function(){return s()},disabled:!parseFloat(u),children:_("farm.claim")})}),Object(n.jsx)(M.c,{onClick:function(){return h()},className:I.a.farmStakeCardLink,children:_("farm.add_to_wallet",{token:t.token})})]})]}):Object(n.jsx)(S.b,{children:Object(n.jsx)(S.a,{className:I.a.farmStakeCard,children:Object(n.jsx)(A.a,{onConnect:function(){return O()}})})})),!!m.length&&f>0&&Object(n.jsx)(S.b,{children:Object(n.jsxs)(S.a,{className:I.a.farmStakeCard,children:[Object(n.jsx)("div",{className:I.a.farmStakeCardDesc,children:_("farm.availableWithdrawals",{availableWithdrawals:j,token:t.token})}),Object(n.jsx)("div",{style:{maxHeight:"95%",overflow:"auto"},children:Object(n.jsx)(W,{stakes:m,token:t.token})})]})}),!!v.length&&Object(n.jsxs)("div",{className:I.a.farmTokens,children:[Object(n.jsx)("div",{className:I.a.farmTokensHeader,children:_("farm.available_nfts")}),Object(n.jsx)("div",{className:I.a.farmTokensList,children:v.map((function(e){return Object(n.jsxs)("div",{className:I.a.farmTokensToken,children:[Object(n.jsx)("div",{className:I.a.farmTokensTokenImage,children:e.type&&"video"===e.type?Object(n.jsxs)("video",{controls:!0,controlslist:"nodownload",children:[Object(n.jsx)("source",{src:e.image,type:"video/mp4"}),"Your browser does not support the video tag."]}):Object(n.jsx)("img",{src:e.image,alt:e.name})}),Object(n.jsxs)("div",{className:I.a.farmTokensTokenBody,children:[Object(n.jsx)("div",{className:I.a.farmTokensTokenName,children:e.name}),Object(n.jsx)("div",{className:I.a.farmTokensTokenDesc,children:e.description}),Object(n.jsxs)("div",{className:I.a.farmTokensTokenPrice,children:[e.price>0&&Object(n.jsxs)("div",{children:[(new Intl.NumberFormat).format(parseFloat(e.price).toFixed(2))," ",t.rewardToken]}),e.feePrice>0&&Object(n.jsxs)("div",{style:{marginLeft:"3px"},children:["+ ",(new Intl.NumberFormat).format(parseFloat(e.feePrice).toFixed(2))," ",t.token]}),Object(n.jsxs)("div",{className:I.a.farmTokensTokenPriceAvail,children:[e.totalSupply-e.totalPurchased," ","/"," ",e.totalSupply]})]}),Object(n.jsx)("div",{className:I.a.farmTokensTokenBtn,children:Object(n.jsx)(M.a,{disabled:e.totalSupply===e.totalPurchased,block:!0,onClick:function(){return parseFloat(i)<parseFloat(e.price)?x():a(e.index)},children:e.totalSupply===e.totalPurchased?_("farm.sold_out"):_("farm.buy_now")})})]})]},"".concat(e.name,"_").concat(e.index))}))})]}),k.data.address&&!v.length&&Object(n.jsx)(F.a,{style:{marginTop:"15px"}})]}),Object(n.jsx)(L,{isOpen:b,onClose:function(){return p(!1)},onSubmit:function(e){p(!1),r(e)},balance:o,t:_})]}):Object(n.jsx)(F.a,{full:!0})};R.defaultProps={currentFarm:null};var H=R,L=function(e){var t=e.isOpen,a=e.onClose,r=e.onSubmit,c=e.balance,o=e.t,i=Object(s.useState)(c),l=i[0],d=i[1],u=Object(s.useState)(!1),m=u[0],f=u[1],j=Object(s.useState)(!1),b=j[0],h=j[1];return Object(s.useEffect)((function(){d(c)}),[c]),Object(n.jsxs)(D.a,{isOpen:t,className:I.a.itemCheckout,onClose:function(){return a()},children:[Object(n.jsx)(D.a.Header,{onClose:function(){return a()},children:Object(n.jsx)("div",{children:o("farm.stakeModal.stake")})}),Object(n.jsxs)(D.a.Body,{className:I.a.stakeModal,children:[Object(n.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(n.jsx)("div",{className:I.a.stakeModalCheckoutInputText,children:Object(n.jsx)("b",{children:o("farm.stakeModal.amount")})}),Object(n.jsx)(M.g,{type:"number",step:"0.0000000000000000001",block:!0,value:l,onChange:function(e){var t=e.target.value,a=t>parseFloat(c)?c:t;a>=0&&d(a)}})]}),Object(n.jsxs)("div",{className:I.a.stakeModalMobileBottomBoxContainer,children:[Object(n.jsx)("div",{className:I.a.stakeModalMobileBottomBoxContainerCheckoutTerms,children:Object(n.jsxs)(B.a,{checked:m,onChange:function(e){return f(e.target.checked)},error:b&&!m,children:[o("checkout.terms")," ",Object(n.jsx)(M.c,{className:I.a.stakeModalMobileBottomBoxContainerCheckoutTermsLink,onClick:function(){return Object(g.a)("/terms.html")},children:o("checkout.terms_link")})]})}),Object(n.jsx)(M.a,{className:I.a.stakeModalMobileBottomBoxContainerCheckoutBtn,onClick:function(){if(!m)return h(!0),!1;r(l),a()},children:o("farm.stakeModal.continue")})]})]})]})},W=function(e){var t=e.stakes,a=e.token;return Object(n.jsxs)("table",{className:I.a.farmStakeList,children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Amount"}),Object(n.jsx)("th",{children:"Locked For (Days)"})]}),t.map((function(e){var t=e.amount,r=e.createdAt,s=e.lockPeriod;e.withdrew;return Object(n.jsxs)("tr",{className:I.a.farmStakeListStake,children:[Object(n.jsx)("td",{className:I.a.farmStakeListStakeCol,children:Object(n.jsx)("div",{className:I.a.farmStakeListStakeValue,children:new Date(1e3*r).toDateString()})}),Object(n.jsx)("td",{className:I.a.farmStakeListStakeCol,children:Object(n.jsxs)("div",{className:I.a.farmStakeListStakeValue,children:[t," ",a]})}),Object(n.jsx)("td",{className:I.a.farmStakeListStakeCol,children:Object(n.jsx)("div",{className:I.a.farmStakeListStakeValue,children:s})})]})}))]})},E=a("va0g"),X=a("Tkjx"),G=function(e){var t=e.isOpen,a=e.onClose,r=e.currentFarm,s=e.t;return Object(n.jsxs)(D.a,{isOpen:t,className:I.a.alertModal,onClose:function(){return a()},children:[Object(n.jsx)(D.a.Header,{onClose:function(){return a()},children:s("farm.alertModal.header")}),Object(n.jsxs)(D.a.Body,{className:I.a.alertModalBody,children:[Object(n.jsxs)("div",{className:I.a.alertModalBodyMsg,children:[Object(n.jsx)(X.ab,{}),s("farm.alertModal.body",{token:r.token})]}),Object(n.jsx)(M.a,{className:I.a.alertModalBtn,onClick:function(){return a()},children:s("farm.alertModal.submit")})]})]})},K=a("9yuF"),U=a("LtDH"),q=a("xCAs");function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(k.a)(e);if(t){var n=Object(k.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(p.a)(this,a)}}var Q=function(e){Object(h.a)(a,e);var t=J(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).state={type:"",status:"",isStakeModalOpen:!1,isAlertModalOpen:!1,userBalance:0,userBalanceReward:0,totalStaked:0,staked:0,earned:0,dailyReward:0,availableNfts:0,lockPeriod:0,stakes:[],availableWithdrawals:0,nfts:[]},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getData(),this.updateContractData(),setInterval((function(){e.updateContractData()}),5e3)}},{key:"getData",value:function(){var e=this,t=this.props.farm,a=t&&N.a.find((function(e){return e.page==t}));U.a.farms.get(a.chainId,a.tokenAddress.toLowerCase()).then((function(t){var a=t.data,r=y.a.utils.fromWei(a.balance);e.setState({totalStaked:r}),Promise.all(a.nfts.map(function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)({url:t.tokenURI});case 2:return a=e.sent,r=0,t.price&&(r=y.a.utils.fromWei(t.price)),n=0,t.feePrice&&(n=y.a.utils.fromWei(t.feePrice)),e.abrupt("return",V(V({},a.data),{},{price:r,feePrice:n,totalPurchased:t.totalPurchased,totalSupply:t.totalSupply,valid:t.valid,viewOrder:t.viewOrder,index:t.index}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){return e.setState({nfts:t})}))}))}},{key:"setStatus",value:function(e){this.setState({status:e})}},{key:"addRewardTokenToWallet",value:function(){var e=this.props,t=e.wallet,a=e.farm,r=a&&N.a.find((function(e){return e.page==a})),n=t.data;n.address&&n.chainId===r.chainId&&n.web3.currentProvider.sendAsync({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r.rewardTokenAddress,symbol:"n".concat(r.token),decimals:18,image:""}},id:Math.round(1e5*Math.random())},(function(e,t){console.log("provider returned",e,t)}))}},{key:"claim",value:function(){var e=this;this.startTransaction("stakingClaim",Object(f.a)(m.a.mark((function t(){var a,r,n,s,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.wallet,n=a.farm,s=N.a.find((function(e){return e.page==n})),(c=new T.a(V(V({},r.data),{},{farm:s}))).setStatusListener((function(t){return e.setStatus(t)})),t.prev=4,t.next=7,c.claim();case 7:e.setStatus(C.a),setTimeout((function(){e.setStatus("")}),2e3),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0),e.setStatus("");case 15:case"end":return t.stop()}}),t,null,[[4,11]])}))))}},{key:"stake",value:function(e){var t=this;this.startTransaction("stakingStake",Object(f.a)(m.a.mark((function a(){var r,n,s,c,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props,n=r.wallet,s=r.farm,c=N.a.find((function(e){return e.page==s})),(o=new T.a(V(V({},n.data),{},{farm:c}))).setStatusListener((function(e){return t.setStatus(e)})),a.prev=4,a.next=7,o.stake(e);case 7:t.setStatus(C.a),setTimeout((function(){t.setStatus("")}),2e3),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),console.error(a.t0),t.setStatus("");case 15:case"end":return a.stop()}}),a,null,[[4,11]])}))))}},{key:"withdraw",value:function(e){var t=this;this.startTransaction("stakingWithdraw",Object(f.a)(m.a.mark((function a(){var r,n,s,c,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props,n=r.wallet,s=r.farm,c=N.a.find((function(e){return e.page==s})),(o=new T.a(V(V({},n.data),{},{farm:c}))).setStatusListener((function(e){return t.setStatus(e)})),a.prev=4,a.next=7,o.withdraw(e);case 7:t.setStatus(C.a),setTimeout((function(){t.setStatus("")}),2e3),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),console.error(a.t0),t.setStatus("");case 15:case"end":return a.stop()}}),a,null,[[4,11]])}))))}},{key:"buyNFT",value:function(e){var t=this;this.startTransaction("stakingBuy",Object(f.a)(m.a.mark((function a(){var r,n,s,c,o,i,l,d,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.props,n=r.wallet,s=r.farm,c=r.router,o=N.a.find((function(e){return e.page==s})),(i=new T.a(V(V({},n.data),{},{farm:o}))).setStatusListener((function(e){return t.setStatus(e)})),a.prev=4,l=t.state.nfts,!((d=l.find((function(t){return t.index==e}))).feePrice>0)){a.next=14;break}return a.next=10,i.checkAllowance();case 10:if(u=a.sent,!(parseFloat(u)<d.feePrice)){a.next=14;break}return a.next=14,i.approveStaking();case 14:return a.next=16,i.buyNFT(e);case 16:t.setStatus(C.a),setTimeout((function(){t.setStatus(""),c.push("/")}),2e3),a.next=24;break;case 20:a.prev=20,a.t0=a.catch(4),console.error(a.t0),t.setStatus("");case 24:case"end":return a.stop()}}),a,null,[[4,20]])}))))}},{key:"updateContractData",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,r,n,s,c,o,i,l,u,f,j,b,h,p,k,O,x,v,y,_,w,C;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.wallet,r=t.farm,n=r&&N.a.find((function(e){return e.page==r})),!(s=a.data).address||s.chainId!==n.chainId){e.next=31;break}return c=s.web3,o=new T.a(V(V({},s),{},{farm:n})),e.prev=6,e.next=9,Promise.all([o.getUserBalance(),o.getUserRewardBalance(),o.getTotalStaked(),o.staked(),o.earned(),o.getLockPeriod(),o.getAccountStakes(),o.getAvailableWithdrawals()]);case 9:i=e.sent,l=Object(d.a)(i,8),u=l[0],f=l[1],j=l[2],b=l[3],h=l[4],p=l[5],k=l[6],O=l[7],x=c.utils.fromWei(u),v=c.utils.fromWei(f),y=c.utils.fromWei(j),_=c.utils.fromWei(b),w=c.utils.fromWei(h),C=c.utils.fromWei(O),this.setState({userBalance:x,userBalanceReward:v,totalStaked:y,staked:_,earned:w,lockPeriod:p,stakes:k.map((function(e){return V(V({},e),{},{amount:c.utils.fromWei(e.amount)})})),availableWithdrawals:C}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(6),console.error(e.t0);case 31:case"end":return e.stop()}}),e,this,[[6,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"startTransaction",value:function(e,t){this.setState({type:e,status:C.h},(function(){setTimeout((function(){return t()}),0)}))}},{key:"openAlertModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({isAlertModalOpen:e})}},{key:"callbacks",value:function(){var e=this;return{buyNFT:this.buyNFT.bind(this),stake:this.stake.bind(this),withdraw:this.withdraw.bind(this),claim:this.claim.bind(this),openStakeModal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.setState({isStakeModalOpen:t})},addRewardTokenToWallet:this.addRewardTokenToWallet.bind(this),openAlertModal:function(t){return e.openAlertModal(t)}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.farm,r=t.iframe,s=t.t,c=this.state,o=c.status,i=c.type,l=c.isAlertModalOpen,d=a&&N.a.find((function(e){return e.page==a})),u=Object(q.a)(d.chainId),m="NFTrade | Farms ".concat(d&&"| ".concat(d.name)),f=d.desc||"A staking application where token holders can earn NFT rewards and projects lockup token liquidity.",j=d.image;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)("title",{children:m}),Object(n.jsx)("meta",{property:"og:title",content:m}),Object(n.jsx)("meta",{property:"og:description",content:f}),Object(n.jsx)("meta",{name:"description",content:f}),Object(n.jsx)("meta",{property:"og:image",content:j}),Object(n.jsx)("meta",{name:"twitter:card",content:"summary"}),Object(n.jsx)("meta",{name:"twitter:site",content:"@NFTradeOfficial"}),Object(n.jsx)("meta",{name:"twitter:title",content:m}),Object(n.jsx)("meta",{name:"twitter:description",content:f}),Object(n.jsx)("meta",{name:"twitter:image",content:j}),r&&d.css&&Object(n.jsx)("link",{rel:"stylesheet",href:d.css})]}),Object(n.jsx)(H,V(V(V(V({},this.props),this.state),this.callbacks()),{},{chain:u,currentFarm:d})),Object(n.jsx)(E.a,{type:i,status:o,isOpen:!!o,t:s}),Object(n.jsx)(G,{currentFarm:d,isOpen:l,onClose:function(){return e.openAlertModal(!1)},t:s})]})}}]),a}(c.a.Component);Q.defaultProps={farm:"",s:""};var Y=Object(i.withRouter)(Q),Z=function(e){var t=e.currentFarm,a=e.buyNFT,r=e.stake,s=e.claim,c=e.withdraw,o=e.userBalance,i=e.userBalanceReward,l=e.totalStaked,d=e.staked,u=e.earned,m=e.isStakeModalOpen,f=e.addRewardTokenToWallet,j=e.openStakeModal,b=e.wallet,h=e.onConnect,p=e.openAlertModal,k=e.nfts,O=e.t;return t?Object(n.jsxs)(S.b,{className:I.a.farmContainer,children:[Object(n.jsxs)(S.a,{className:I.a.farm,children:[Object(n.jsxs)("div",{className:I.a.farmHeader,children:[Object(n.jsxs)("div",{className:I.a.farmHeaderTitle,children:[t.name," ",O("farm.farm")]}),Object(n.jsxs)("div",{className:I.a.farmHeaderBalance,children:[Object(n.jsx)("span",{children:"Balance:"})," ",(new Intl.NumberFormat).format(parseFloat(o).toFixed(3))," ",t.token," | ",(new Intl.NumberFormat).format(parseFloat(i).toFixed(3))," ","n",t.token]}),Object(n.jsx)("div",{className:I.a.farmHeaderBtn,children:Object(n.jsxs)(M.a,{onClick:function(){return window.open("https://trade.kucoin.com/".concat(t.token,"-USDT"))},children:[O("farm.buy")," ",t.token]})})]}),Object(n.jsxs)("div",{className:I.a.farmDesc,children:[Object(n.jsxs)("div",{className:I.a.farmDescDetails,children:[Object(n.jsx)("div",{className:I.a.farmDescImage,children:Object(n.jsx)("img",{src:t.image,alt:t.name})}),Object(n.jsxs)("div",{className:I.a.farmDescBody,children:[Object(n.jsx)("div",{className:I.a.farmDescBodyName,children:t.name}),Object(n.jsx)("div",{className:I.a.farmDescBodyText,children:t.desc})]})]}),Object(n.jsx)("div",{className:I.a.farmDescGuide,children:O("farm.instructions",{token:t.token})}),Object(n.jsxs)("div",{className:I.a.farmDescNumbers,children:[Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:O("farm.total_staked")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:(new Intl.NumberFormat).format(parseFloat(l).toFixed(3))})]}),Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:O("farm.daily_reward")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:t.daily})]}),Object(n.jsxs)("div",{className:I.a.farmDescNumber,children:[Object(n.jsx)("div",{className:I.a.farmDescNumberTitle,children:O("farm.available_nfts")}),Object(n.jsx)("div",{className:I.a.farmDescNumberText,children:k.filter((function(e){return e.valid})).length})]})]})]}),b.data.address?Object(n.jsxs)(S.b,{children:[Object(n.jsxs)(S.a,{className:I.a.farmStakeCard,children:[Object(n.jsx)("div",{className:I.a.farmStakeCardBalance,children:(new Intl.NumberFormat).format(parseFloat(d).toFixed(3))}),Object(n.jsxs)("div",{className:I.a.farmStakeCardDesc,children:[t.token," ",O("farm.staked")]}),Object(n.jsxs)("div",{className:I.a.farmStakeCardBtn,children:[d>0&&Object(n.jsx)(M.a,{secondary:!0,onClick:function(){return c()},style:{marginRight:"8px"},children:O("farm.withdraw")}),Object(n.jsx)(M.a,{onClick:function(){return j()},children:O("farm.stake")})]})]}),Object(n.jsxs)(S.a,{className:I.a.farmStakeCard,children:[Object(n.jsx)("div",{className:I.a.farmStakeCardBalance,children:(new Intl.NumberFormat).format(parseFloat(u).toFixed(3))}),Object(n.jsxs)("div",{className:I.a.farmStakeCardDesc,children:["n",t.token," ",O("farm.earned")]}),Object(n.jsx)("div",{className:I.a.farmStakeCardBtn,children:Object(n.jsx)(M.a,{onClick:function(){return s()},disabled:!parseFloat(u),children:O("farm.claim")})}),Object(n.jsx)(M.c,{onClick:function(){return f()},className:I.a.farmStakeCardLink,children:O("farm.add_to_wallet",{token:t.token})})]})]}):Object(n.jsx)(S.b,{children:Object(n.jsx)(S.a,{className:I.a.farmStakeCard,children:Object(n.jsx)(A.a,{onConnect:function(){return h()}})})}),!!k.length&&Object(n.jsxs)("div",{className:I.a.farmTokens,children:[Object(n.jsx)("div",{className:I.a.farmTokensHeader,children:O("farm.available_nfts")}),Object(n.jsx)("div",{className:I.a.farmTokensList,children:k.filter((function(e){return e.valid})).map((function(e){return Object(n.jsxs)("div",{className:I.a.farmTokensToken,children:[Object(n.jsx)("div",{className:I.a.farmTokensTokenImage,children:e.type&&"video"===e.type?Object(n.jsxs)("video",{controls:!0,controlslist:"nodownload",children:[Object(n.jsx)("source",{src:e.image,type:"video/mp4"}),"Your browser does not support the video tag."]}):Object(n.jsx)("img",{src:e.image,alt:e.name})}),Object(n.jsxs)("div",{className:I.a.farmTokensTokenBody,children:[Object(n.jsx)("div",{className:I.a.farmTokensTokenName,children:e.name}),Object(n.jsx)("div",{className:I.a.farmTokensTokenDesc,children:e.description}),Object(n.jsxs)("div",{className:I.a.farmTokensTokenPrice,children:[Object(n.jsxs)("div",{children:[(new Intl.NumberFormat).format(parseFloat(e.price).toFixed(2))," ","n",t.token]}),Object(n.jsxs)("div",{className:I.a.farmTokensTokenPriceAvail,children:[e.totalSupply-e.totalPurchased," ","/"," ",e.totalSupply]})]}),Object(n.jsx)("div",{className:I.a.farmTokensTokenBtn,children:Object(n.jsx)(M.a,{disabled:e.totalSupply===e.totalPurchased,block:!0,onClick:function(){return parseFloat(i)<parseFloat(e.price)?p():a(e.index)},children:e.totalSupply===e.totalPurchased?O("farm.sold_out"):O("farm.buy_now")})})]})]},"".concat(e.name,"_").concat(e.index))}))})]}),b.data.address&&!k.length&&Object(n.jsx)(F.a,{style:{marginTop:"15px"}})]}),Object(n.jsx)(ee,{isOpen:m,onClose:function(){return j(!1)},onSubmit:function(e){j(!1),r(e)},balance:o,t:O})]}):Object(n.jsx)(F.a,{full:!0})};Z.defaultProps={currentFarm:null};var $=Z,ee=function(e){var t=e.isOpen,a=e.onClose,r=e.onSubmit,c=e.balance,o=e.t,i=Object(s.useState)(c),l=i[0],d=i[1],u=Object(s.useState)(!1),m=u[0],f=u[1],j=Object(s.useState)(!1),b=j[0],h=j[1];return Object(s.useEffect)((function(){d(c)}),[c]),Object(n.jsxs)(D.a,{isOpen:t,className:I.a.itemCheckout,onClose:function(){return a()},children:[Object(n.jsx)(D.a.Header,{onClose:function(){return a()},children:Object(n.jsx)("div",{children:o("farm.stakeModal.stake")})}),Object(n.jsxs)(D.a.Body,{className:I.a.stakeModal,children:[Object(n.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(n.jsx)("div",{className:I.a.stakeModalCheckoutInputText,children:Object(n.jsx)("b",{children:o("farm.stakeModal.amount")})}),Object(n.jsx)(M.g,{type:"number",step:"0.0000000000000000001",block:!0,value:l,onChange:function(e){var t=e.target.value,a=t>parseFloat(c)?c:t;a>=0&&d(a)}})]}),Object(n.jsxs)("div",{className:I.a.stakeModalMobileBottomBoxContainer,children:[Object(n.jsx)("div",{className:I.a.stakeModalMobileBottomBoxContainerCheckoutTerms,children:Object(n.jsxs)(B.a,{checked:m,onChange:function(e){return f(e.target.checked)},error:b&&!m,children:[o("checkout.terms")," ",Object(n.jsx)(M.c,{className:I.a.stakeModalMobileBottomBoxContainerCheckoutTermsLink,onClick:function(){return Object(g.a)("/terms.html")},children:o("checkout.terms_link")})]})}),Object(n.jsx)(M.a,{className:I.a.stakeModalMobileBottomBoxContainerCheckoutBtn,onClick:function(){if(!m)return h(!0),!1;r(l),a()},children:o("farm.stakeModal.continue")})]})]})]})};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(k.a)(e);if(t){var n=Object(k.a)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(p.a)(this,a)}}var ne=function(e){Object(h.a)(a,e);var t=re(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).state={type:"",status:"",isStakeModalOpen:!1,isAlertModalOpen:!1,userBalance:0,userBalanceReward:0,totalStaked:0,staked:0,earned:0,dailyReward:0,availableNfts:0,nfts:[]},r}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.updateContractData(),setInterval((function(){e.updateContractData()}),5e3)}},{key:"setStatus",value:function(e){this.setState({status:e})}},{key:"addRewardTokenToWallet",value:function(){var e=this.props,t=e.wallet,a=e.farm,r=a&&N.a.find((function(e){return e.page==a})),n=t.data;n.address&&n.chainId===_.a[0].chainId&&n.web3.currentProvider.sendAsync({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r.rewardTokenAddress,symbol:"n".concat(r.token),decimals:18,image:""}},id:Math.round(1e5*Math.random())},(function(e,t){console.log("provider returned",e,t)}))}},{key:"claim",value:function(){var e=this;this.startTransaction("stakingClaim",Object(f.a)(m.a.mark((function t(){var a,r,n,s,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.wallet,n=a.farm,s=N.a.find((function(e){return e.page==n})),(c=new T.a(ae(ae({},r.data),{},{farm:s}))).setStatusListener((function(t){return e.setStatus(t)})),t.prev=4,t.next=7,c.claim();case 7:e.setStatus(C.a),setTimeout((function(){e.setStatus("")}),2e3),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0),e.setStatus("");case 15:case"end":return t.stop()}}),t,null,[[4,11]])}))))}},{key:"stake",value:function(e){var t=this;this.startTransaction("stakingStake",Object(f.a)(m.a.mark((function a(){var r,n,s,c,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props,n=r.wallet,s=r.farm,c=N.a.find((function(e){return e.page==s})),(o=new T.a(ae(ae({},n.data),{},{farm:c}))).setStatusListener((function(e){return t.setStatus(e)})),a.prev=4,a.next=7,o.stake(e);case 7:t.setStatus(C.a),setTimeout((function(){t.setStatus("")}),2e3),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),console.error(a.t0),t.setStatus("");case 15:case"end":return a.stop()}}),a,null,[[4,11]])}))))}},{key:"withdraw",value:function(e){var t=this;this.startTransaction("stakingWithdraw",Object(f.a)(m.a.mark((function a(){var r,n,s,c,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props,n=r.wallet,s=r.farm,c=N.a.find((function(e){return e.page==s})),(o=new T.a(ae(ae({},n.data),{},{farm:c}))).setStatusListener((function(e){return t.setStatus(e)})),a.prev=4,a.next=7,o.withdraw(e);case 7:t.setStatus(C.a),setTimeout((function(){t.setStatus("")}),2e3),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),console.error(a.t0),t.setStatus("");case 15:case"end":return a.stop()}}),a,null,[[4,11]])}))))}},{key:"buyNFT",value:function(e){var t=this;this.startTransaction("stakingBuy",Object(f.a)(m.a.mark((function a(){var r,n,s,c,o,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props,n=r.wallet,s=r.farm,c=r.router,o=N.a.find((function(e){return e.page==s})),(i=new T.a(ae(ae({},n.data),{},{farm:o}))).setStatusListener((function(e){return t.setStatus(e)})),a.prev=4,a.next=7,i.buyNFT(e);case 7:t.setStatus(C.a),setTimeout((function(){t.setStatus(""),c.push("/")}),2e3),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),console.error(a.t0),t.setStatus("");case 15:case"end":return a.stop()}}),a,null,[[4,11]])}))))}},{key:"updateContractData",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,r,n,s,c,o,i,l,u,j,b,h,p,k,O,x,v,y,w,C,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.wallet,r=t.farm,n=r&&N.a.find((function(e){return e.page==r})),!(s=a.data).address||s.chainId!==_.a[0].chainId){e.next=30;break}if(c=s.web3,o=this.state.nfts,i=new T.a(ae(ae({},s),{},{farm:n})),o.length){e.next=15;break}return e.next=10,i.getNFTsLength();case 10:return l=e.sent,e.next=13,Promise.all(new Array(parseInt(l)).fill(1).map(function(){var e=Object(f.a)(m.a.mark((function e(t,a){var r,n,s,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getNFT(a);case 2:return r=e.sent,n=r.tokenURI,s=r.NFTTokenPrice,e.next=6,Object(K.a)({url:n});case 6:return o=e.sent,l=0,s&&(l=c.utils.fromWei(s)),e.abrupt("return",ae(ae({},o.data),{},{price:l,totalPurchased:r.totalPurchased,totalSupply:r.totalSupply,valid:r.valid,index:a}));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 13:u=e.sent,this.setState({nfts:u.sort((function(e,t){return n.pushToStart.includes(e.index)?-1:e.index-t.index}))});case 15:return e.next=17,Promise.all([i.getUserBalance(),i.getUserRewardBalance(),i.getTotalStaked(),i.staked(),i.earned()]);case 17:j=e.sent,b=Object(d.a)(j,5),h=b[0],p=b[1],k=b[2],O=b[3],x=b[4],v=c.utils.fromWei(h),y=c.utils.fromWei(p),w=c.utils.fromWei(k),C=c.utils.fromWei(O),g=c.utils.fromWei(x),this.setState({userBalance:v,userBalanceReward:y,totalStaked:w,staked:C,earned:g});case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startTransaction",value:function(e,t){this.setState({type:e,status:C.h},(function(){setTimeout((function(){return t()}),0)}))}},{key:"openAlertModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({isAlertModalOpen:e})}},{key:"callbacks",value:function(){var e=this;return{buyNFT:this.buyNFT.bind(this),stake:this.stake.bind(this),withdraw:this.withdraw.bind(this),claim:this.claim.bind(this),openStakeModal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.setState({isStakeModalOpen:t})},addRewardTokenToWallet:this.addRewardTokenToWallet.bind(this),openAlertModal:function(t){return e.openAlertModal(t)}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.farm,r=t.t,s=this.state,c=s.status,o=s.type,i=s.isAlertModalOpen,l=a&&N.a.find((function(e){return e.page==a})),d="NFTrade | Farms ".concat(l&&"| ".concat(l.name)),u=l.desc||"A staking application where token holders can earn NFT rewards and projects lockup token liquidity.",m="https://miro.medium.com/max/1400/0*mAIBiGZe-QdF24rk";return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)("title",{children:d}),Object(n.jsx)("meta",{property:"og:title",content:d}),Object(n.jsx)("meta",{property:"og:description",content:u}),Object(n.jsx)("meta",{name:"description",content:u}),Object(n.jsx)("meta",{property:"og:image",content:m}),Object(n.jsx)("meta",{name:"twitter:card",content:"summary"}),Object(n.jsx)("meta",{name:"twitter:site",content:"@NFTradeOfficial"}),Object(n.jsx)("meta",{name:"twitter:title",content:d}),Object(n.jsx)("meta",{name:"twitter:description",content:u}),Object(n.jsx)("meta",{name:"twitter:image",content:m})]}),Object(n.jsx)($,ae(ae(ae(ae({},this.props),this.state),this.callbacks()),{},{currentFarm:l})),Object(n.jsx)(E.a,{type:o,status:c,isOpen:!!c,t:r}),Object(n.jsx)(G,{currentFarm:l,isOpen:i,onClose:function(){return e.openAlertModal(!1)},t:r})]})}}]),a}(c.a.Component);ne.defaultProps={farm:"",s:""};var se=Object(i.withRouter)(ne);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=function(e){var t={user:Object(o.d)((function(e){return e.user})),wallet:Object(o.d)((function(e){return e.wallet}))},a={},r=e.farm,s=e.iframe;return e.currentFarm.v1?Object(n.jsx)(se,oe(oe(oe({farm:r,isFarm:!0},e),t),a)):Object(n.jsx)(Y,oe(oe(oe({farm:r,iframe:s,isFarm:!0},e),t),a))};ie.page="farms";var le=!0;t.default=Object(l.b)(ie)},tCBg:function(e,t,a){var r=a("C+bE"),n=a("qXWd");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?n(e):t}},va0g:function(e,t,a){"use strict";var r=a("nKUr"),n=a("AMxz"),s=a("rVDa"),c=a("Lela"),o=a("Tkjx"),i=a("+7g4"),l=a.n(i),d=function(e){var t=e.isOpen,a=e.type,i=e.status,d=e.currencySymbol,u=e.t;return Object(r.jsx)(s.a,{isOpen:t,onClose:function(){},className:l.a.transactionModal,children:Object(r.jsx)(s.a.Body,{className:l.a.transactionModalBody,children:Object(r.jsxs)("div",{className:l.a.transactionModalBodyContent,children:[Object(r.jsx)("div",{className:l.a.transactionModalBodyContentTitle,children:t&&u("transactionsModal.".concat(a,".").concat(i,".title"),{currencySymbol:d})}),Object(r.jsx)("div",{className:l.a.transactionModalBodyContentBody,children:t&&u("transactionsModal.".concat(a,".").concat(i,".body"),{currencySymbol:d})}),i===n.a?Object(r.jsx)(o.c,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{}),Object(r.jsx)("div",{className:l.a.transactionModalBodyContentFooter,children:t&&u("transactionsModal.footer")})]})]})})})};d.defaultProps={type:"",status:"",currencySymbol:""},t.a=d}},[["RBJF",0,2,4,1,3,5,6,16]]]);